<!DOCTYPE html>
<html>
<head>
    <title>Test Get Item</title>
</head>
<body>
    <h1>Test Get Item by Title</h1>
    <form id="getItemForm">
        <label for="itemTitle">Item Title:</label>
        <input type="text" id="itemTitle" name="itemTitle" required>
        <button type="button" id="getItemButton">Get Item</button>
    </form>
    <div id="result"></div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const getItemForm = document.getElementById('getItemForm');
            const getItemButton = document.getElementById('getItemButton');
            const resultDiv = document.getElementById('result');

            getItemButton.addEventListener('click', async () => {
                const itemTitle = document.getElementById('itemTitle').value;

                try {
                    const response = await fetch(`/items?title=${encodeURIComponent(itemTitle)}`);
                    const data = await response.json();

                    if (response.ok) {
                        resultDiv.innerHTML = `<pre>${JSON.stringify(data, null, 2)}</pre>`;
                    } else {
                        resultDiv.innerHTML = `<p>Error: ${data.message}</p>`;
                    }
                } catch (error) {
                    resultDiv.innerHTML = `<p>Error: ${error.message}</p>`;
                }
            });
        });
    </script>
</body>
</html>
