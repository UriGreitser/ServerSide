<!DOCTYPE html>
<html>
<head>
    <title>POST Request Example with Fetch</title>
</head>
<body>
    <h1>POST Request Example with Fetch</h1>
    <form id="postForm">
        <label for="title">Title:</label>
        <input type="text" id="title" name="title" required><br>
        <label for="description">Description:</label>
        <textarea id="description" name="description" required></textarea><br>
        <label for="price">Price:</label>
        <input type="number" id="price" name="price" required><br>
        <label for="img">Image URL:</label>
        <input type="text" id="img" name="img" required><br>
        <button type="submit">Submit</button>
    </form>
    <div id="response"></div>

    <script>
        document.getElementById("postForm").addEventListener("submit", function(event) {
            event.preventDefault();

            const formData = new FormData(event.target);
            const postData = {
                title: formData.get("title"),
                description: formData.get("description"),
                price: formData.get("price"),
                img: formData.get("img")
            };

            fetch("http://localhost:3000/items", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify(postData)
            })
            .then(response => {
                if (!response.ok) {
                    throw new Error("Network response was notrrrrr ok");
                }
                console.log(response.status)
                return response.text();
            })
            .then(data => {
                document.getElementById("response").textContent = "Post successful: " + data;
            })
            .catch(error => {
                document.getElementById("response").textContent = "Error: " + error.message;
                console.log("HERE")
            });
        });
    </script>
</body>
</html>
